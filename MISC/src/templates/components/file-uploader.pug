extends ../partials/layout-components

//- Override default config variables
append config
  - var vendorStyles = ['prismjs/themes/prism.css', 'prismjs/plugins/toolbar/prism-toolbar.css', 'prismjs/plugins/line-numbers/prism-line-numbers.css', 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css', 'filepond/dist/filepond.min.css']
  - var vendorScripts = ['prismjs/components/prism-core.min.js', 'prismjs/components/prism-markup.min.js', 'prismjs/components/prism-clike.min.js', 'prismjs/components/prism-javascript.min.js', 'prismjs/components/prism-pug.min.js', 'prismjs/plugins/toolbar/prism-toolbar.min.js', 'prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js', 'prismjs/plugins/line-numbers/prism-line-numbers.min.js', 'filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.min.js', 'filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.min.js', 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.js', 'filepond-plugin-image-crop/dist/filepond-plugin-image-crop.min.js', 'filepond-plugin-image-resize/dist/filepond-plugin-image-resize.min.js', 'filepond-plugin-image-transform/dist/filepond-plugin-image-transform.min.js', 'filepond/dist/filepond.min.js']
  - var pageTitle = 'File uploader'
  - var pageSubtitle = 'Component for uploading any file type with built-in validation and image optimization.'
  - var isPageTitleBadge = true
  - var anchorNav = [{'title': 'Single file upload: Image only + Cropped + Resized (Profile picture)', 'link': '#file-uploader-profile'}, {'title': 'Multiple file upload: Grid of files + File type, size and quantity validation (Gallery)', 'link': '#file-uploader-gallery'}]
  
//- Page Content
block content

  .alert.alert-info.mb-4(role='alert')
    .d-flex
      i.fi-alert-circle.lead.me-2.me-sm-3
      .text-break
        p.mb-2 Make sure to link to <strong>Filepond css and js</strong> files in your document. Filepond has lots of plugins that extends its functionality. Note, you have to link plugins before main Filepond files. Use this page as a reference. Below is the list of plugins we used in our demo:
        ul
          li File Type Validation (filepond-plugin-file-validate-type.min.js)
          li File Size Validation (filepond-plugin-file-validate-size.min.js)
          li Image Preview (filepond-plugin-image-preview.min.js)
          li Image Crop (filepond-plugin-image-crop.min.js)
          li Image Resize (filepond-plugin-image-resize.min.js)
          li Image Transform (filepond-plugin-image-transform.min.js)
          li Core Filepond script (filepond.min.js)
        p.fw-bold.mb-2 Note, plugins should come before core Filepond script in your document.
        p.mb-1 The complete list of all available Filepond plugins <a href='https://pqina.nl/filepond/plugins/' class='alert-link' target='_blank' rel='noopener'>can be found here.</a>

  //-- Styles For Demo purpose only
  style.
    .example-code {
      padding-top: 0 !important;
    }
    div.code-toolbar > .example-code + .toolbar {
      display: none;
    }
  //-- End of styles
  .bg-secondary.rounded.p-4.mb-5
    h6.fs-sm You can alter file uploader behaviour via attributes that should be added to <code>&lt;input type="file" class="file-uploader"&gt;</code>.
    ul.list-unstyled
      li
        code multiple 
        | &mdash; Allows multiple files upload (Core plugin).
      li
        code accept="image/png, image/jpeg, video/mp4..." 
        | &mdash; Specify what file types to accept (File type validation plugin).
      li
        code data-style-panel-layout="compact" 
        | &mdash; Image preview will take up the full width and height of the file uploader component.
      li
        code data-max-file-size="100KB" 
        | &mdash; Maximum file size allowed (File size validation plugin). 
      li
        code data-max-files="5" 
        | &mdash; Maximum number of files per one upload (Core plugin). 
      li
        code data-label-idle 
        | &mdash; String or HTML. Label that should be displayed in idle state of the file uploader component (Core plugin).
      li
        code data-image-preview-height 
        | &mdash; Number. Maximum height of the preview image (Image preview plugin).
      li
        code data-image-crop-aspect-ratio="1:1" 
        | &mdash; Crops the image to a certain aspect ratio (Image crop plugin).
      li
        code data-image-resize-target-width 
        | &mdash; Number. Resizes the image to a certain width (Image resize plugin).
      li
        code data-image-resize-target-height 
        | &mdash; Number. Resizes the image to a certain height (Image resize plugin).
    h6.fs-sm Modifier classes:
    ul.list-unstyled.mb-0
      li
        code file-uploader-grid 
        | &mdash; Turns image previews in a grid as opposed to list by default.
    h6.fs-sm.pt-3 Plugin documentation:
      a(href='https://pqina.nl/filepond/docs/' target='_blank' rel='noopener').text-break.ms-2
        | https://pqina.nl/filepond/docs/
  
  
  // Single file upload: Image only + Cropped + Resized (Profile picture)
  section#file-uploader-profile.pb-5.mb-md-2
    h2.h5.mb-3 Single file upload: Image only + Cropped + Resized (Profile picture)
    .card.border-0.shadow-sm
      .card-header
        ul(role='tablist').nav.nav-tabs.card-header-tabs
          li.nav-item
            a(href='#result1' data-bs-toggle='tab' role='tab' aria-controls='result1' aria-selected='true').nav-link.active Result
          li.nav-item
            a(href='#html1' data-bs-toggle='tab' role='tab' aria-controls='html1' aria-selected='false').nav-link HTML
          li.nav-item
            a(href='#pug1' data-bs-toggle='tab' role='tab' aria-controls='pug1' aria-selected='false').nav-link Pug
      .card-body
        .tab-content
          #result1.tab-pane.fade.show.active(role='tabpanel')
            .row
              .col-sm-6
                .p-4
                  .mx-auto(style='max-width: 15rem;')
                    input(type='file' accept='image/png, image/jpeg' data-label-idle='<i class="d-inline-block fi-camera-plus fs-2 text-muted mb-2"></i><br><span class="fw-bold">Change picture</span>' data-style-panel-layout='compact' data-image-preview-height='160'
                    data-image-crop-aspect-ratio='1:1' data-image-resize-target-width='200' data-image-resize-target-height='200').file-uploader.bg-secondary
              .col-sm-6
                .bg-dark.p-4
                  .mx-auto(style='max-width: 15rem;')
                    input(type='file' accept='image/png, image/jpeg' data-label-idle='<i class="d-inline-block fi-camera-plus fs-2 text-light mb-2"></i><br><span class="fw-bold text-light opacity-70">Change picture</span>' data-style-panel-layout='compact' data-image-preview-height='160'
                    data-image-crop-aspect-ratio='1:1' data-image-resize-target-width='200' data-image-resize-target-height='200').file-uploader.border-light.bg-faded-light
          #html1.tab-pane.fade(role='tabpanel')
            pre.line-numbers
              code(class='lang-html').
                &lt;!-- Single file upload: Image only + Cropped + Resized (Profile picture) --&gt;
                &lt;input class=&quot;file-uploader bg-secondary&quot; type=&quot;file&quot; accept=&quot;image/png, image/jpeg&quot; data-label-idle='&lt;i class=&quot;d-inline-block fi-camera-plus fs-2 text-muted mb-2&quot;&gt;&lt;/i&gt;&lt;br&gt;&lt;span class=&quot;fw-bold&quot;&gt;Change picture&lt;/span&gt;' data-style-panel-layout=&quot;compact&quot; data-image-preview-height=&quot;160&quot; data-image-crop-aspect-ratio=&quot;1:1&quot; data-image-resize-target-width=&quot;200&quot; data-image-resize-target-height=&quot;200&quot;&gt;

                &lt;!-- Light skin --&gt;
                &lt;input class=&quot;file-uploader border-light bg-faded-light&quot; type=&quot;file&quot; accept=&quot;image/png, image/jpeg&quot; data-label-idle='&lt;i class=&quot;d-inline-block fi-camera-plus fs-2 text-light mb-2&quot;&gt;&lt;/i&gt;&lt;br&gt;&lt;span class=&quot;fw-bold text-light opacity-70&quot;&gt;Change picture&lt;/span&gt;' data-style-panel-layout=&quot;compact&quot; data-image-preview-height=&quot;160&quot; data-image-crop-aspect-ratio=&quot;1:1&quot; data-image-resize-target-width=&quot;200&quot; data-image-resize-target-height=&quot;200&quot;&gt;
          #pug1.tab-pane.fade(role='tabpanel')
            pre.line-numbers
              code(class='lang-pug').
                // Single file upload: Image only + Cropped + Resized (Profile picture)
                input(type=&quot;file&quot;, accept=&quot;image/png, image/jpeg&quot;, data-label-idle='&lt;i class="d-inline-block fi-camera-plus fs-2 text-muted mb-2"&gt;&lt;/i&gt;&lt;br&gt;&lt;span class="fw-bold"&gt;Change picture&lt;/span&gt;', data-style-panel-layout=&quot;compact&quot;, data-image-preview-height=&quot;160&quot;, data-image-crop-aspect-ratio=&quot;1:1&quot;, data-image-resize-target-width=&quot;200&quot;, data-image-resize-target-height=&quot;200&quot;).file-uploader.bg-secondary
                
                // Light skin
                input(type=&quot;file&quot;, accept=&quot;image/png, image/jpeg&quot;, data-label-idle='&lt;i class="d-inline-block fi-camera-plus fs-2 text-light mb-2"&gt;&lt;/i&gt;&lt;br&gt;&lt;span class="fw-bold text-light opacity-70"&gt;Change picture&lt;/span&gt;', data-style-panel-layout=&quot;compact&quot;, data-image-preview-height=&quot;160&quot;, data-image-crop-aspect-ratio=&quot;1:1&quot;, data-image-resize-target-width=&quot;200&quot;, data-image-resize-target-height=&quot;200&quot;).file-uploader.border-light.bg-faded-light
  
  // Multiple file upload: Grid of files + File type, size and quantity validation (Gallery)
  section#file-uploader-gallery.pb-5.mb-md-2
    h2.h5.mb-3 Multiple file upload: Grid of files + File type, size and quantity validation (Gallery)
    .card.border-0.shadow-sm
      .card-header
        ul(role='tablist').nav.nav-tabs.card-header-tabs
          li.nav-item
            a(href='#result2' data-bs-toggle='tab' role='tab' aria-controls='result2' aria-selected='true').nav-link.active Result
          li.nav-item
            a(href='#html2' data-bs-toggle='tab' role='tab' aria-controls='html2' aria-selected='false').nav-link HTML
          li.nav-item
            a(href='#pug2' data-bs-toggle='tab' role='tab' aria-controls='pug2' aria-selected='false').nav-link Pug
      .card-body
        .tab-content
          #result2.tab-pane.fade.show.active(role='tabpanel')
            .p-4
              .mx-auto(style='max-width: 50rem;')
                input(type='file' multiple data-max-files='4' data-max-file-size='2MB' accept='image/png, image/jpeg, video/mp4, video/mov' data-label-idle='<div class="btn btn-primary mb-3"><i class="fi-cloud-upload me-1"></i>Upload photos / video</div><div>or drag them in</div>').file-uploader.file-uploader-grid
            .bg-dark.p-4
              .mx-auto(style='max-width: 50rem;')
                input(type='file' multiple data-max-files='4' data-max-file-size='2MB' accept='image/png, image/jpeg, video/mp4, video/mov' data-label-idle='<div class="btn btn-primary mb-3"><i class="fi-cloud-upload me-1"></i>Upload photos / video</div><div class="text-white opacity-70">or drag them in</div>').file-uploader.file-uploader-grid.border-light.bg-faded-light
          #html2.tab-pane.fade(role='tabpanel')
            pre.line-numbers
              code(class='lang-html').
                &lt;!-- Multiple file upload: Grid of files + File type, size and quantity validation (Gallery) --&gt;
                &lt;input class=&quot;file-uploader file-uploader-grid&quot; type=&quot;file&quot; multiple data-max-files=&quot;4&quot; data-max-file-size=&quot;2MB&quot; accept=&quot;image/png, image/jpeg, video/mp4, video/mov&quot; data-label-idle='&lt;div class=&quot;btn btn-primary mb-3&quot;&gt;&lt;i class=&quot;fi-cloud-upload me-1&quot;&gt;&lt;/i&gt;Upload photos / video&lt;/div&gt;&lt;div&gt;or drag them in&lt;/div&gt;'&gt;

                &lt;!-- Light version --&gt;
                &lt;input class=&quot;file-uploader file-uploader-grid border-light bg-faded-light&quot; type=&quot;file&quot; multiple data-max-files=&quot;4&quot; data-max-file-size=&quot;2MB&quot; accept=&quot;image/png, image/jpeg, video/mp4, video/mov&quot; data-label-idle='&lt;div class=&quot;btn btn-primary mb-3&quot;&gt;&lt;i class=&quot;fi-cloud-upload me-1&quot;&gt;&lt;/i&gt;Upload photos / video&lt;/div&gt;&lt;div class=&quot;text-white opacity-70&quot;&gt;or drag them in&lt;/div&gt;'&gt;

          #pug2.tab-pane.fade(role='tabpanel')
            pre.line-numbers
              code(class='lang-pug').
                // Multiple file upload: Grid of files + File type, size and quantity validation (Gallery)
                input(type=&quot;file&quot;, multiple, data-max-files=&quot;4&quot;, data-max-file-size=&quot;2MB&quot;, accept=&quot;image/png, image/jpeg, video/mp4, video/mov&quot;, data-label-idle='&lt;div class=&quot;btn btn-primary mb-3&quot;&gt;&lt;i class=&quot;fi-cloud-upload me-1&quot;&gt;&lt;/i&gt;Upload photos / video&lt;/div&gt;&lt;div&gt;or drag them in&lt;/div&gt;').file-uploader.file-uploader-grid

                // Light version
                input(type=&quot;file&quot;, multiple, data-max-files=&quot;4&quot;, data-max-file-size=&quot;2MB&quot;, accept=&quot;image/png, image/jpeg, video/mp4, video/mov&quot;, data-label-idle='&lt;div class=&quot;btn btn-primary mb-3&quot;&gt;&lt;i class=&quot;fi-cloud-upload me-1&quot;&gt;&lt;/i&gt;Upload photos / video&lt;/div&gt;&lt;div class=&quot;text-white opacity-70&quot;&gt;or drag them in&lt;/div&gt;').file-uploader.file-uploader-grid.border-light.bg-faded-light
